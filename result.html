<!DOCTYPE html>
<html>
<head>
  <title>Class-wise Quiz Attempts</title>
  <style>
    body { font-family: Arial; background: #f0f8ff; padding: 20px; }
    h2 { background: #4CAF50; color: white; padding: 10px; }
    table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    th { background: #f2f2f2; }
  </style>
</head>
<body>
  <h1>Quiz Attempts - Class Wise</h1>
  <div id="results"></div>

  <script>
    const SHEET_URL = "YOUR_WEB_APP_URL"; // Replace with your Google Apps Script Web App URL

    async function loadData() {
      const res = await fetch(SHEET_URL);
      const data = await res.json();

      // Group by Class
      const grouped = {};
      data.forEach(item => {
        if (!grouped[item.Class]) grouped[item.Class] = [];
        grouped[item.Class].push(item);
      });

      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      for (let cls in grouped) {
        resultsDiv.innerHTML += `<h2>${cls}</h2>`;
        resultsDiv.innerHTML += `<table>
          <tr><th>Name</th><th>Score</th><th>Date</th></tr>
          ${grouped[cls].map(s => `
            <tr>
              <td>${s.Name}</td>
              <td>${s.Score}</td>
              <td>${s.Date}</td>
            </tr>
          `).join('')}
        </table>`;
      }
    }

    loadData();
  </script>
</body>
</html>


